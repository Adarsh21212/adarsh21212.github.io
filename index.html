<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title> Predictor X1</title>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1129827238830148" crossorigin="anonymous"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to right, #1f1f1f, #3f3f3f);
      color: #eee;
    }
    .blinker {
      animation: blinker 1s linear infinite;
    }
    @keyframes blinker { 50% { opacity: 0.2; } }
    .fade-in {
      animation: fadeIn 0.6s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes slideup {
      from { transform: translateY(100%); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .animate-slideup {
      animation: slideup 0.6s ease-out;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4">

  <h1 class="text-3xl font-bold text-yellow-400 mb-4 animate-pulse"> Api Predictor X1</h1>

  <div class="bg-gray-800 p-4 rounded-lg shadow-lg w-full max-w-md text-center fade-in">
    <p class="text-gray-400 mb-2"><i class="fas fa-calendar-alt"></i> Period: <span id="nextPeriod" class="font-bold text-white">Loading...</span></p>
    <p class="text-gray-400"><i class="fas fa-chart-line"></i> Result: <span id="nextResult" class="font-bold text-white">Loading...</span></p>
  </div>

  <div class="grid grid-cols-2 gap-4 my-6 w-full max-w-md fade-in">
    <div class="bg-green-600 text-white p-4 rounded-lg text-center">
      <p class="text-sm">Win Rate</p>
      <p id="accuracy" class="text-2xl font-bold">0.00%</p>
    </div>
    <div class="bg-blue-600 text-white p-4 rounded-lg text-center">
      <p class="text-sm">Wins</p>
      <p id="totalWins" class="text-2xl font-bold">0</p>
    </div>
    <div class="bg-red-600 text-white p-4 rounded-lg text-center">
      <p class="text-sm">Losses</p>
      <p id="totalLosses" class="text-2xl font-bold">0</p>
    </div>
    <div class="bg-yellow-600 text-white p-4 rounded-lg text-center">
      <p class="text-sm">Server</p>
      <p class="text-2xl font-bold">Active</p>
    </div>
  </div>

  <button onclick="clearHistory()" class="bg-red-500 hover:bg-red-700 text-white px-4 py-2 rounded mb-4 fade-in">
    <i class="fas fa-trash-alt"></i> Clear History
  </button>

  <h2 class="text-xl font-bold mb-2"> History</h2>
  <div id="historyContainer" class="space-y-2 mb-6 w-full max-w-md fade-in"></div>

  <div id="overlay" class="fixed inset-0 bg-black bg-opacity-90 flex flex-col justify-center items-center text-center z-50 hidden">
    <h2 class="text-white text-2xl font-bold">Next Prediction Locked</h2>
    <p class="text-yellow-400 mt-2">Click Ad Below to Unlock</p>
    <div class="mt-4">
      <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-1129827238830148"
        data-ad-slot="5159264233"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
    </div>
    <button onclick="unlockNextPrediction()" class="blinker bg-yellow-500 text-black font-bold px-6 py-2 rounded mt-6">I've Clicked the Ad</button>
  </div>

  <footer class="text-gray-400 text-sm text-center mt-10 max-w-md">
    <p>This site is for entertainment purposes only. We do not promote any form of gambling. All predictions are automated and not based on real data.</p>
  </footer>

  <!-- Disclaimer Banner at Bottom with Close Button -->
  <div id="disclaimerBanner" class="fixed bottom-0 left-0 w-full bg-red-600 text-white text-center p-2 z-50 flex items-center justify-center animate-slideup">
    <p class="text-sm font-semibold">
      Disclaimer: This is a Api Based prediction site for entertainment only. No real money or gambling involved.
    </p>
    <button onclick="document.getElementById('disclaimerBanner').style.display='none'" class="ml-4 text-white font-bold text-lg">Ã—</button>
  </div>

  <script>
    let lastFetchedPeriod = null;
    let historyData = [];
    let totalWins = 0;
    let totalLosses = 0;
    let showNext = false;

    async function fetchGameResult() {
      try {
        const response = await fetch("https://api.bdg88zf.com/api/webapi/GetNoaverageEmerdList", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            pageSize: 10,
            pageNo: 1,
            typeId: 1,
            language: 0,
            random: "4a0522c6ecd8410496260e686be2a57c",
            signature: "334B5E70A0C9B8918B0B15E517E2069C",
            timestamp: Math.floor(Date.now() / 1000)
          })
        });
        const data = await response.json();
        return data?.data?.list?.[0];
      } catch (error) {
        console.error("Error fetching result:", error);
        return null;
      }
    }

    async function updatePrediction() {
      if (!showNext) return;
      const result = await fetchGameResult();

      if (result && result.issueNumber !== lastFetchedPeriod) {
        lastFetchedPeriod = result.issueNumber;

        let nextPeriod = BigInt(result.issueNumber) + 1n;
        let nextResult = result.number >= 5 ? "BIG" : "SMALL";

        document.getElementById("nextPeriod").innerText = nextPeriod;
        document.getElementById("nextResult").innerText = nextResult;

        if (historyData.length > 0) {
          let previous = historyData[0];
          if (previous.prediction === nextResult) {
            previous.status = "WIN";
            totalWins++;
          } else {
            previous.status = "LOSS";
            totalLosses++;
          }
        }

        historyData.unshift({
          period: nextPeriod,
          prediction: nextResult,
          status: "Pending"
        });

        updateHistory();
        updateStats();

        showNext = false;
        document.getElementById("overlay").style.display = "flex";
        (adsbygoogle = window.adsbygoogle || []).push({});
      }
    }

    function unlockNextPrediction() {
      showNext = true;
      document.getElementById("overlay").style.display = "none";
    }

    function updateHistory() {
      const container = document.getElementById("historyContainer");
      container.innerHTML = historyData.map(item =>
        `<div class="bg-gray-700 p-2 rounded shadow-md">${item.period} - ${item.prediction} - <span class="${item.status === 'WIN' ? 'text-green-400' : item.status === 'LOSS' ? 'text-red-400' : 'text-yellow-400'} font-bold">${item.status}</span></div>`
      ).join('');
    }

    function updateStats() {
      document.getElementById("totalWins").innerText = totalWins;
      document.getElementById("totalLosses").innerText = totalLosses;
      const accuracy = totalWins + totalLosses > 0 ? ((totalWins / (totalWins + totalLosses)) * 100).toFixed(2) : "0.00";
      document.getElementById("accuracy").innerText = accuracy + "%";
    }

    function clearHistory() {
      historyData = [];
      totalWins = 0;
      totalLosses = 0;
      updateStats();
      updateHistory();
    }

    setInterval(updatePrediction, 3000);
    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("overlay").style.display = "flex";
    });
  </script>
</body>
</html>
